<div class="container-fluid">
  <!-- Tiêu đề -->
  <div class="row">
    <div class="col-md-12">
      <h1 class="display-4">Welcome to ProsperPath!</h1>
      <p class="lead">Your personal finance management dashboard</p>
    </div>
  </div>

  <!-- Nội dung chính: Dashboard hoặc thông tin đăng nhập -->
  <div class="row">
    @if (account() !== null) {
      <!-- Dashboard khi đã đăng nhập -->
      <div class="col-md-12">
        <div class="alert alert-success">
          @if (account(); as accountRef) {
            <span id="home-logged-message" jhiTranslate="home.logged.message" [translateValues]="{ username: accountRef.login }"
              >You are logged in as user "{{ accountRef.login }}".</span
            >
          }
        </div>

        <!-- Bộ lọc khoảng thời gian -->
        <div class="mb-3">
          <label for="periodSelect">Select period:</label>
          <select id="periodSelect" class="form-control" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
            <option value="week">This Week</option>
            <option value="month">This Month</option>
            <option value="year">This Year</option>
          </select>
        </div>

        <!-- Các thẻ thông tin tài chính -->
        <div class="row">
          <!-- Thẻ Total Assets -->
          <div class="col-md-3">
            <div class="card text-white bg-primary mb-3" style="border-radius: 15px">
              <div class="card-header">
                Total Assets
                <i class="bi bi-wallet float-end"></i>
              </div>
              <div class="card-body">
                <h5 class="card-title">{{ totalAssets() | currency: 'VND' }}</h5>
                <span class="badge bg-success"> <i class="bi bi-arrow-up"></i> 5% </span>
                <small class="text-white">{{ selectedPeriod() }}</small>
              </div>
            </div>
          </div>

          <!-- Thẻ Total Income -->
          <div class="col-md-3">
            <div class="card mb-3" style="border-radius: 15px">
              <div class="card-header text-dark">
                Total Income
                <i class="bi bi-cash-stack float-end"></i>
              </div>
              <div class="card-body">
                <h5 class="card-title text-dark">{{ totalIncome() | currency: 'VND' }}</h5>
                <span class="badge bg-success"> <i class="bi bi-arrow-up"></i> 7% </span>
                <small class="text-muted">{{ selectedPeriod() }}</small>
              </div>
            </div>
          </div>

          <!-- Thẻ Total Expense -->
          <div class="col-md-3">
            <div class="card mb-3" style="border-radius: 15px">
              <div class="card-header text-dark">
                Total Expense
                <i class="bi bi-credit-card float-end"></i>
              </div>
              <div class="card-body">
                <h5 class="card-title text-dark">{{ totalExpense() | currency: 'VND' }}</h5>
                <span class="badge bg-danger"> <i class="bi bi-arrow-down"></i> 5% </span>
                <small class="text-muted">{{ selectedPeriod() }}</small>
              </div>
            </div>
          </div>

          <!-- Thẻ Profit/Loss -->
          <div class="col-md-3">
            <div class="card mb-3" style="border-radius: 15px">
              <div class="card-header text-dark">
                Profit/Loss
                <i class="bi bi-graph-up float-end"></i>
              </div>
              <div class="card-body">
                <h5 class="card-title text-dark">{{ totalProfit() | currency: 'VND' }}</h5>
                <span class="badge" [ngClass]="{ 'bg-success': totalProfit() > 0, 'bg-danger': totalProfit() < 0 }">
                  <i class="bi bi-arrow-{{ totalProfit() > 0 ? 'up' : 'down' }}"></i> {{ profitPercentage() }}%
                </span>
                <small class="text-muted">{{ selectedPeriod() }}</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    } @else {
      <!-- Thông tin khi chưa đăng nhập -->
      <div class="col-md-12">
        <div class="alert alert-warning">
          <span jhiTranslate="global.messages.info.authenticated.prefix">If you want to </span>
          <a class="alert-link" (click)="login()" jhiTranslate="global.messages.info.authenticated.link">sign in</a
          ><span jhiTranslate="global.messages.info.authenticated.suffix"
            >, you can try the default accounts:<br />- Administrator (login="admin" and password="admin") <br />- User (login="user" and
            password="user").</span
          >
        </div>

        <div class="alert alert-warning">
          <span jhiTranslate="global.messages.info.register.noaccount">You don't have an account yet?</span> 
          <a class="alert-link" routerLink="/account/register" jhiTranslate="global.messages.info.register.link">Register a new account</a>
        </div>
      </div>
    }
  </div>
</div>
