<!-- Ph·∫ßn 1: C√¥ng c·ª• t√≠nh to√°n -->
<section class="calculator-box">
    <div class="header">
        <h2 jhiTranslate="gold.title">C√îNG C·ª§ T√çNH TO√ÅN L·ª¢I NHU·∫¨N T·ª™ V√ÄNG</h2>
    </div>

    <!-- Ghi ch√∫ ch·ªâ hi·ªÉn th·ªã khi isNoteVisible l√† true -->
    <p class="note text-center" *ngIf="isNoteVisible" jhiTranslate="gold.note">
        Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin ƒë·ªÉ t√≠nh to√°n ch√≠nh x√°c!
    </p>

    <div class="form-group">
        <div class="row d-flex align-items-center">
            <!-- Nh√≥m nh·∫≠p s·ªë l∆∞·ª£ng v√†ng -->
            <div class="quantity-box col-md-4 col-sm-12">
                <label>
                    S·ªë l∆∞·ª£ng ({{ unit }})
                </label>
                <input type="number" [(ngModel)]="quantity" (ngModelChange)="onQuantityChange()" min="1"
                    class="quantity-field" appNumberFormat/>
            </div>

            <!-- Lo·∫°i v√†ng -->
            <div class="input-box col-md-4 col-sm-12">
                <label jhiTranslate="gold.labels.goldType">Lo·∫°i v√†ng:</label>
                <select class="select-gold" [(ngModel)]="selectedType">
                    <option value="" disabled selected jhiTranslate="gold.labels.selectGoldType">
                        Ch·ªçn lo·∫°i v√†ng
                    </option>
                    <option *ngFor="let g of goldTypes" [value]="g.tensp">{{ g.tensp }}</option>
                </select>
            </div>

            <!-- Gi√° mua -->
            <div class="input-box col-md-4 col-sm-12">
                <label jhiTranslate="gold.labels.purchasePrice">Gi√° mua (ƒë/ch·ªâ):</label>
                <input class="input-gold" type="number" [(ngModel)]="purchasePrice"
                    [placeholder]="'gold.labels.purchasePricePlaceholder' | translate" min="0" appNumberFormat/>
            </div>
        </div>
    </div>

    <button class="result-btn" (click)="calculate()">
        <span class="icon">üìä</span>
        <span jhiTranslate="gold.buttons.viewResult">XEM K·∫æT QU·∫¢</span>
    </button>

    <div *ngIf="result !== null" class="result-box">
        ‚úÖ <span jhiTranslate="gold.result.estimatedProfit">L·ª£i nhu·∫≠n ∆∞·ªõc t√≠nh:</span>
        <strong>{{ result | number:'1.0-0' }} ƒë</strong>
    </div>

    <span class="cookie-note text-center">
        <i class="fas fa-triangle-exclamation"></i>
        <span jhiTranslate="gold.cookieNote">
            !!!K·∫øt qu·∫£ ch·ªâ mang t√≠nh ch·∫•t minh h·ªça do gi√° v√†ng li√™n t·ª•c thay ƒë·ªïi.
        </span>
    </span>
</section>

<!-- Ph·∫ßn 2: Gi√° v√†ng m·ªõi nh·∫•t (ch·ªâ hi·ªÉn th·ªã khi isGoldCalRoute l√† true) -->
<section class="price-table" *ngIf="isGoldCalRoute">
    <h3 jhiTranslate="gold.priceTable.title">GI√Å V√ÄNG M·ªöI NH·∫§T</h3>
    <table>
        <thead>
            <tr>
                <th jhiTranslate="gold.priceTable.columns.goldType">LO·∫†I V√ÄNG</th>
                <th jhiTranslate="gold.priceTable.columns.buy">MUA V√ÄO</th>
                <th jhiTranslate="gold.priceTable.columns.sell">B√ÅN RA</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let g of goldTypes">
                <td class="gold-price">{{ g.tensp }}</td>
                <td class="buy">{{ (g.giamua * 1000) | number:'1.0-0' }} ƒë</td>
                <td class="sell">{{ (g.giaban * 1000) | number:'1.0-0' }} ƒë</td>
            </tr>
        </tbody>
    </table>
    <div class="updated">
        üïí <span jhiTranslate="gold.priceTable.updated">C·∫≠p nh·∫≠t:</span>
        {{ currentDate | date:'HH:mm, dd/MM/yyyy' }}
    </div>
</section>