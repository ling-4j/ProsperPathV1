<!-- Pháº§n 1: CÃ´ng cá»¥ tÃ­nh toÃ¡n -->
<section class="calculator-box">
    <div class="header">
        <h2>CÃ”NG Cá»¤ TÃNH TOÃN Lá»¢I NHUáº¬N Tá»ª VÃ€NG</h2>
    </div>

    <!-- Ghi chÃº chá»‰ hiá»ƒn thá»‹ khi isNoteVisible lÃ  true -->
    <p class="note text-center" *ngIf="isNoteVisible">
        Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ cÃ¡c thÃ´ng tin Ä‘á»ƒ tÃ­nh toÃ¡n chÃ­nh xÃ¡c!<br>
    </p>

    <div class="form-group">
        <div class="row d-flex align-items-center">
            <!-- NhÃ³m nháº­p sá»‘ lÆ°á»£ng vÃ ng -->
            <div class="quantity-box col-md-4 col-sm-12">
                <label>Sá»‘ lÆ°á»£ng ({{ unit }}):</label>
                <input type="number" [(ngModel)]="quantity" (ngModelChange)="onQuantityChange()" min="1"
                    class="quantity-field" />
            </div>

            <!-- Loáº¡i vÃ ng -->
            <div class="input-box col-md-4 col-sm-12">
                <label>Loáº¡i vÃ ng:</label>
                <select class="select-gold" [(ngModel)]="selectedType">
                    <option value="" disabled selected>Chá»n loáº¡i vÃ ng</option>
                    <option *ngFor="let g of goldTypes" [value]="g.name">{{ g.name }}</option>
                </select>
            </div>

            <!-- GiÃ¡ mua -->
            <div class="input-box col-md-4 col-sm-12">
                <label>GiÃ¡ mua (Ä‘/chá»‰):</label>
                <input class="input-gold" type="number" [(ngModel)]="purchasePrice" placeholder="GiÃ¡ 1 chá»‰ lÃºc mua" min="0" />
            </div>
        </div>
    </div>

    <button class="result-btn" (click)="calculate()">
        <span class="icon">ğŸ“Š</span> XEM Káº¾T QUáº¢
    </button>

    <div *ngIf="result !== null" class="result-box">
        âœ… Lá»£i nhuáº­n Æ°á»›c tÃ­nh: <strong>{{ result | number:'1.0-0' }} Ä‘</strong>
    </div>

    <span class="cookie-note text-center">
        <i class="fas fa-triangle-exclamation"></i> !!!Káº¿t quáº£ chá»‰ mang tÃ­nh cháº¥t minh há»a do giÃ¡ vÃ ng liÃªn tá»¥c thay Ä‘á»•i.
    </span>
</section>

<!-- Pháº§n 2: GiÃ¡ vÃ ng má»›i nháº¥t (chá»‰ hiá»ƒn thá»‹ khi isGoldCalRoute lÃ  true) -->
<section class="price-table" *ngIf="isGoldCalRoute">
    <h3>GIÃ VÃ€NG Má»šI NHáº¤T</h3>
    <table>
        <thead>
            <tr>
                <th>LOáº I VÃ€NG</th>
                <th>MUA VÃ€O</th>
                <th>BÃN RA</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let g of goldTypes">
                <td>{{ g.name }}</td>
                <td class="buy">{{ g.buy | number:'1.0-0' }} Ä‘</td>
                <td class="sell">{{ g.sell | number:'1.0-0' }} Ä‘</td>
            </tr>
        </tbody>
    </table>
    <div class="updated">
        ğŸ•’ Cáº­p nháº­t: {{ currentDate | date:'HH:mm, dd/MM/yyyy' }}
    </div>
</section>